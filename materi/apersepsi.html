<!doctype html>
<html lang="id">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Apersepsi ‚Ä¢ Materi</title>

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet"><!-- opsional -->

    <style>
        :root {
            --navbar-h: 55px;
            --footer-h: 30px;
            /* footer sedikit lebih tinggi agar nyaman */
            --brand: #ff3f8e;
            --sidebar-w: 255px;
            /* samakan dengan lebar sidebar */
            --sidebar-gap: 1px;
            /* jarak konten dari sidebar */
        }


        /* ===== App shell ===== */
        html,
        body {
            height: 100%;
        }

        body {
            padding-bottom: var(--footer-h);
            background: #fff;
        }

        .main-pad {
            padding-top: var(--navbar-h);
        }

        main.app-shell {
            height: calc(100vh - var(--navbar-h) - var(--footer-h));
            overflow: hidden;
        }

        /* ===== Navbar & Footer ===== */
        .navbar,
        .footer {
            background: #fff;
        }

        .footer {
            border-top: 1px solid #eee;
        }

        /* ===== Grid helpers ===== */
        .no-top-gap>[class^="col-"],
        .no-top-gap>aside,
        .no-top-gap>section {
            padding-top: 0 !important;
        }

        /* ===== Sidebar ===== */
        .menu-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, .04);
        }

        .menu-title {
            padding: .75rem 1rem;
            border-bottom: 1px solid #eee;
            font-weight: 600;
        }

        .menu-item {
            display: block;
            padding: .6rem 1rem;
            color: inherit;
            text-decoration: none;
        }

        .menu-item:hover {
            background: #fafafa;
        }

        .menu-item.active {
            background: #f5f5f5;
            font-weight: 600;
        }

        @media (min-width:768px) {
            .sidebar-fixed {
                position: fixed;
                top: var(--navbar-h);
                left: 0;
                width: var(--sidebar-w);
                height: calc(100vh - var(--navbar-h));
                overflow-y: auto;
            }

            .content-with-fixed {
                margin-left: calc(var(--sidebar-w) + var(--sidebar-gap));
            }
        }

        /* ===== Buttons ===== */
        .btn-brand {
            background: var(--brand);
            color: #fff;
        }

        .btn-brand:hover {
            color: #fff;
            filter: brightness(.95);
        }

        /* ===== Layout: hanya area card yang scroll ===== */
        .content-col {
            height: 100%;
            overflow: hidden;
        }

        .content-scroll {
            height: 100%;
            overflow: hidden;
        }

        .materi-card .card-header {
            flex: 0 0 auto;
            background: #fff;
            border-bottom: 1px solid #eee;
            padding: .5rem 1rem .4rem !important;
        }

        .materi-card {
            display: flex;
            flex-direction: column;
            height: 580px;
        }

        .materi-card .card-body.scrollable {
            flex: 1 1 auto;
            min-height: 0;
            overflow: auto;
        }

        /* ===== Drag & Drop mini (styling) ===== */
        .drag-pool {
            display: grid;
            gap: .6rem;
        }

        .drag-chip {
            background: #fff;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: .5rem .75rem;
            cursor: grab;
            user-select: none;
            transition: transform .12s ease, box-shadow .12s ease;
            box-shadow: 0 1px 2px rgba(0, 0, 0, .05);
        }

        .drag-chip:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 14px rgba(0, 0, 0, .08);
        }

        .drop-wrap {
            display: grid;
            gap: .8rem;
        }

        .drop-col {
            min-height: 120px;
            border: 2px dashed #ced4da;
            border-radius: 12px;
            padding: .75rem;
            background: #fcfcfd;
            transition: background .15s, border-color .15s, box-shadow .15s;
        }

        .drop-col.drag-over {
            border-color: #0d6efd;
            background: #eef5ff;
            box-shadow: inset 0 0 0 2px rgba(13, 110, 253, .12);
        }

        .drop-col.empty::before {
            content: "Seret ke sini‚Ä¶";
            color: #adb5bd;
            font-size: .9rem;
        }

        .drop-col.correct {
            border-color: rgba(25, 135, 84, .8);
            background: #f0fff6;
        }

        .drop-col.wrong {
            border-color: rgba(220, 53, 69, .8);
            background: #fff5f6;
        }

        /* Pusatkan isi di dalam sticky-cta */
        .sticky-cta .content-with-fixed .d-flex {
            justify-content: center;
            /* pusat */
            align-items: center;
            gap: .5rem;
            /* jarak antar tombol */
            flex-wrap: wrap;
            /* responsif di layar kecil */
            width: 100%;
        }

        @media (min-width:768px) {
            .sticky-cta {
                left: calc(var(--sidebar-w) + var(--sidebar-gap));
                right: 12px;
            }
        }

        /* ===== Minor polish ===== */
        .min-vh-0 {
            min-height: 0 !important;
        }

        #apersepsi-hair-coloring figure img {
            display: block;
            width: 100%;
            height: auto;
            border-radius: 12px;
            object-fit: cover;
            max-height: 420px;
        }
    </style>
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-light navbar-expand-lg fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center gap-2" href="../index.html">
                <i class="bi bi-brush" style="font-size:1.25rem; color:var(--brand)"></i>
                <strong>Pewarnaan Rambut</strong> <span class="fw-normal">‚Ä¢ Single Application</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navs">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navs">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../index.html">Beranda</a></li>
                    <li class="nav-item"><a class="nav-link active" aria-current="page"
                            href="./apersepsi.html">Materi</a>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="../latihan.html">Latihan</a></li>
                    <li class="nav-item"><a class="nav-link" href="../kd.html">Kompetensi Dasar</a></li>
                    <li class="nav-item"><a class="nav-link" href="../peta.html">Peta Konsep</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- KONTEN: hanya area card yang scroll -->
    <main class="main-pad app-shell">
        <div class="container-fluid ">
            <div class="row g-1 no-top-gap h-100">
                <!-- SIDEBAR -->
                <aside class="d-none d-md-block p-0">

                    <nav class="menu-card sidebar-fixed shadow-sm">
                        <div class="menu-title"><i class="bi bi-journal-bookmark"></i> Materi</div>

                        <a class="menu-item active" aria-current="page" href="./apersepsi.html"><i
                                class="bi bi-lightbulb"></i> Apersepsi</a>

                        <!-- TOMBOL INDUK TERBUKA TEORI-->
                        <button class="menu-item  d-flex align-items-center w-100 border-0 bg-transparent" type="button"
                            data-bs-toggle="collapse" data-bs-target="#submenu-teori" aria-expanded="true"
                            aria-controls="submenu-teori" href="./peralatan.html">

                            <span class="me-2"><i class="bi bi-droplet-half"></i></span>
                            <span class="flex-grow-1 text-start">A. Teori Dasar</span>
                            <i class="bi bi-chevron-down small"></i>
                        </button>

                        <!-- SUBMENU TERBUKA -->
                        <div class="collapse show" id="submenu-teori"> <!-- penting -->
                            <ul class="nav flex-column ps-4 my-1">
                                <li>
                                    <a class="menu-item py-1" href="./teori.html#pengertian"><span>1. Pengertian
                                            Pewarnaan</span></a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="./teori.html#tujuan">
                                        <span>2. Tujuan Pewarnaan</span>
                                    </a>
                                </li>
                                <li>
                                    <a class="menu-item py-1" href="./teori.html#jenis">3. Jenis Warna</a>
                                </li>
                            </ul>
                        </div>

                        <!-- TOMBOL INDUK TERBUKA PERALATAN-->
                        <button class="menu-item d-flex align-items-center w-100 border-0 bg-transparent" type="button"
                            data-bs-toggle="collapse" data-bs-target="#submenu-peralatan" aria-expanded="true"
                            aria-controls="submenu-peralatan">
                            <span class="me-2"><i class="bi bi-scissors"></i></span>
                            <span class="flex-grow-1 text-start">B. Peralatan</span>
                            <i class="bi bi-chevron-down small"></i>
                            <a>
                        </button>

                        <!-- SUBMENU TERBUKA -->
                        <div class="collapse show" id="submenu-peralatan"> <!-- penting -->
                            <ul class="nav flex-column ps-4 my-1">
                                <li>
                                    <a class="menu-item py-1" href="./peralatan.html#peralatan"><span>1. Peralatan
                                            Pewarnaan</span></a>
                                </li>
                                <li>
                                    <!-- ITEM SEDANG DIBACA -->
                                    <a class="menu-item py-1" href="./peralatan.html#kosmetik">
                                        <span>2. Kosmetika untuk Pewarnaan</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                    </nav>
                </aside>

                <!-- KANAN (scroll) -->
                <section class="col-12 col-md-10 content-col content-with-fixed">
                    <div class="content-scroll">
                        <div class="card shadow-sm materi-card">
                            <div class="card-header d-flex align-items-center gap-2">
                                <i class="bi bi-lightbulb" style="color:var(--brand); font-size:1.25rem;"></i>
                                <div class="d-flex flex-wrap align-items-baseline gap-2">
                                    <h3 class="h5 mb-0 fw-bold">Apersepsi</h3>
                                    <span class="text-muted">‚Ä¢ Pewarnaan Rambut (Single Application)</span>
                                </div>
                            </div>

                            <div class="card-body scrollable flex-grow-1 min-vh-0" id="apersepsi-hair-coloring">
                                <figure style="text-align: center; margin: 20px 0;">
                                    <img src="../img/apersepsi.png" alt="Contoh hasil pewarnaan rambut"
                                        style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                                    <figcaption style="color: #6c757d; font-size: 0.9em; margin-top: 8px;">
                                        Gambar 7.1 Hair coloring
                                    </figcaption>
                                </figure>
                                <div class="mb-4">
                                    <h3 class="h5">Ringkasan Materi</h3>
                                    <p>
                                        Rambut disebut <em>mahkota</em> karena besar pengaruhnya pada penampilan dan
                                        percaya diri.
                                        Pewarnaan dilakukan untuk menutupi uban, menyesuaikan warna dengan gaya, atau
                                        menciptakan tampilan baru.
                                        Agar hasil tahan lama dan tetap sehat, cek kondisi rambut, pilih jenis produk
                                        (semi-permanen/permanen),
                                        ikuti takaran oksidan, serta gunakan <em>shampoo</em> & <em>conditioner</em>
                                        khusus rambut berwarna.
                                        Ini mengantar ke teknik <strong>single application</strong> yang akan kamu
                                        pelajari pada bagian selanjutnya.
                                    </p>
                                </div>

                                <hr class="my-4">

                                <!-- A) MCQ -->
                                <div class="mb-4">
                                    <h3 class="h5 mb-2">A) Pilih Jawabanmu</h3>
                                    <p class="mb-2">Alasan yang paling tepat seseorang melakukan pewarnaan rambut
                                        adalah‚Ä¶</p>
                                    <form id="mcqForm" class="vstack gap-2">
                                        <label class="form-check d-flex gap-2 align-items-start">
                                            <input class="form-check-input mt-1" type="radio" name="mcq" value="a">
                                            <span class="form-check-label">Agar rambut tidak tumbuh panjang</span>
                                        </label>
                                        <label class="form-check d-flex gap-2 align-items-start">
                                            <input class="form-check-input mt-1" type="radio" name="mcq" value="b">
                                            <span class="form-check-label">Untuk menutupi uban dan mempercantik
                                                penampilan</span>
                                        </label>
                                        <label class="form-check d-flex gap-2 align-items-start">
                                            <input class="form-check-input mt-1" type="radio" name="mcq" value="c">
                                            <span class="form-check-label">Karena rambutnya terlalu halus</span>
                                        </label>
                                        <label class="form-check d-flex gap-2 align-items-start">
                                            <input class="form-check-input mt-1" type="radio" name="mcq" value="d">
                                            <span class="form-check-label">Supaya rambut tidak rontok</span>
                                        </label>
                                    </form>
                                    <div class="d-flex gap-2 mt-2">
                                        <button class="btn btn-outline-primary" type="button"
                                            onclick="cekMCQ()">Periksa</button>
                                        <button class="btn btn-outline-secondary" type="button"
                                            onclick="resetMCQ()">Reset</button>
                                    </div>
                                    <div id="mcqFeedback" class="mt-2"></div>
                                </div>

                                <hr class="my-4">

                                <!-- B) Drag & Drop -->
                                <div class="mb-4">
                                    <h3 class="h5 mb-2">B) Drag &amp; Drop ‚Äì Manfaat Pewarnaan</h3>
                                    <p class="mb-2">Seret setiap pernyataan ke kolom <strong>Benar</strong> atau
                                        <strong>Tidak Tepat</strong>.
                                    </p>

                                    <div class="row g-3">
                                        <div class="col-lg-6">
                                            <div class="drop-wrap">
                                                <div>
                                                    <div class="small text-muted mb-1">Benar</div>
                                                    <div id="drop-true" class="drop-col empty" data-accept="1,2"></div>
                                                </div>
                                                <div>
                                                    <div class="small text-muted mb-1">Tidak Tepat</div>
                                                    <div id="drop-false" class="drop-col empty" data-accept="3,4"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div id="pool" class="drag-pool">
                                                <br>
                                                <div class="drag-chip" draggable="true" data-key="1">Menutupi uban</div>
                                                <div class="drag-chip" draggable="true" data-key="2">Mengubah gaya dan
                                                    penampilan</div>
                                                <div class="drag-chip" draggable="true" data-key="3">Menyembuhkan
                                                    kerontokan</div>
                                                <div class="drag-chip" draggable="true" data-key="4">Mencegah ketombe
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="d-flex gap-2 mt-2">
                                        <button class="btn btn-outline-primary" type="button"
                                            onclick="cekDragMini()">Periksa</button>
                                        <button class="btn btn-outline-secondary" type="button"
                                            onclick="resetDragMini()">Reset</button>
                                    </div>
                                    <div id="dragFeedback" class="mt-2"></div>
                                </div>

                                <hr class="my-4">

                                <!-- C) Refleksi -->
                                <div class="mb-4">
                                    <h3 class="h5 mb-2">C) Refleksi Diri</h3>
                                    <p class="mb-2">Jawab singkat: <em>apa arti rambut bagi kamu, dan apakah kamu
                                            tertarik mewarnai rambut? Mengapa?</em></p>
                                    <textarea id="refleksi" class="form-control" rows="4"
                                        placeholder="Ketik jawabanmu di sini..."></textarea>
                                    <div class="d-flex gap-2 mt-2">
                                        <button class="btn btn-outline-primary" type="button"
                                            onclick="simpanRefleksi()">Simpan</button>
                                        <button class="btn btn-outline-secondary" type="button"
                                            onclick="hapusRefleksi()">Hapus</button>
                                    </div>
                                    <div id="refleksiFeedback" class="mt-2"></div>
                                </div>

                                <hr class="my-4">

                                <!-- D) Mengamati -->
                                <div>
                                    <h3 class="h5 mb-2">D) Tantangan ‚ÄúMengamati‚Äù</h3>
                                    <p class="mb-2">Temukan materi/video tentang <strong>single application</strong>.
                                        Tulis ringkasan 3‚Äì5 kalimat (langkah, alat, dan perawatan).</p>
                                    <input id="tautan" class="form-control mb-2" type="url"
                                        placeholder="Tempelkan tautan sumber (opsional)">
                                    <textarea id="ringkasan" class="form-control" rows="4"
                                        placeholder="Tulis ringkasanmu di sini..."></textarea>
                                    <div class="d-flex gap-2 mt-2">
                                        <button class="btn btn-outline-primary" type="button"
                                            onclick="simpanRingkasan()">Simpan</button>
                                        <button class="btn btn-outline-secondary" type="button"
                                            onclick="hapusRingkasan()">Hapus</button>
                                    </div>
                                    <div id="ringkasanFeedback" class="mt-2"></div>
                                </div>
                            </div><!-- /card-body.scrollable -->
                        </div><!-- /card.materi-card -->
                    </div><!-- /content-scroll -->
                </section>
            </div>

        </div>

    </main>



    <!-- CTA tetap di atas footer -->
    <div class="sticky-cta">
        <div class="container">
            <div class="col-12 col-md-10 content-col content-with-fixed mx-auto">
                <div class="d-flex justify-content-center align-items-center flex-wrap gap-2 w-100">
                    <a class="btn btn-outline-secondary" href="apersepsi.html"><i class="bi bi-arrow-left"></i>
                        Sebelumnya</a>
                    <a class="btn btn-brand" href="peralatan.html">Berikutnya <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </div>
    <!-- FOOTER -->
    <footer class="footer fixed-bottom py-2">
        <div class="container d-flex justify-content-between align-items-center small">
            <span>Bootstrap Template ‚Ä¢ Hair Coloring Theme</span>
            <span class="text-muted">¬© 2025 ‚Ä¢ Single Application</span>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        /* Util */
        function safe(fn, ...args) { if (typeof window[fn] === 'function') window[fn](...args); }

        /* MCQ */
        function cekMCQ() {
            const chosen = document.querySelector('input[name="mcq"]:checked');
            const fb = document.getElementById('mcqFeedback');
            if (!chosen) { fb.innerHTML = '<div class="alert alert-warning mb-0">Pilih dulu salah satu opsi.</div>'; return; }
            const benar = (chosen.value === 'b');
            fb.innerHTML = benar
                ? '<div class="alert alert-success mb-0">Benar! Pewarnaan umumnya untuk menutupi uban &amp; mempercantik penampilan. üëç</div>'
                : '<div class="alert alert-danger mb-0">Kurang tepat. Coba perhatikan lagi ringkasan materi di atas.</div>';
            if (benar) { localStorage.setItem('mcq-apersepsi', 'benar'); safe('tandaiSelesai', 'A'); }
            else { localStorage.removeItem('mcq-apersepsi'); }
        }
        function resetMCQ() {
            document.querySelectorAll('input[name="mcq"]').forEach(r => r.checked = false);
            document.getElementById('mcqFeedback').innerHTML = '';
            localStorage.removeItem('mcq-apersepsi'); safe('hapusSelesai', 'A');
        }

        /* Drag & Drop mini */
        const poolEl = () => document.getElementById('pool');
        const drops = () => document.querySelectorAll('.drop-col');
        let dragRef = null;

        function setEmptyState(zone) {
            const hasChild = zone.querySelector('.drag-chip');
            zone.classList.toggle('empty', !hasChild);
        }

        document.addEventListener('dragstart', e => {
            if (e.target.classList.contains('drag-chip')) {
                dragRef = e.target; e.dataTransfer.setData('text/plain', e.target.dataset.key);
                setTimeout(() => e.target.classList.add('opacity-50'), 0);
            }
        });
        document.addEventListener('dragend', e => {
            if (e.target.classList.contains('drag-chip')) e.target.classList.remove('opacity-50');
        });

        ['dragenter', 'dragover'].forEach(evt => {
            document.addEventListener(evt, e => {
                if (e.target.classList.contains('drop-col')) { e.preventDefault(); e.target.classList.add('drag-over'); }
            });
        });
        ['dragleave', 'drop'].forEach(evt => {
            document.addEventListener(evt, e => {
                if (e.target.classList.contains('drop-col')) e.target.classList.remove('drag-over');
            });
        });

        document.addEventListener('drop', e => {
            if (!e.target.classList.contains('drop-col')) return;
            e.preventDefault(); if (!dragRef) return;
            e.target.appendChild(dragRef);
            e.target.classList.remove('correct', 'wrong');
            setEmptyState(e.target);
            document.getElementById('dragFeedback').innerHTML = '';
        });

        function cekDragMini() {
            let allCorrect = true;
            drops().forEach(zone => {
                zone.classList.remove('correct', 'wrong');
                const accept = (zone.dataset.accept || '').split(',').map(s => s.trim());
                const chips = Array.from(zone.querySelectorAll('.drag-chip'));
                if (chips.length === 0) { allCorrect = false; zone.classList.add('wrong'); return; }
                const correctHere = chips.every(ch => accept.includes(ch.dataset.key));
                zone.classList.add(correctHere ? 'correct' : 'wrong');
                if (!correctHere) allCorrect = false;
            });

            document.getElementById('dragFeedback').innerHTML = allCorrect
                ? '<div class="alert alert-success mb-0">Mantap! Semua pernyataan sudah tepat. ‚úÖ</div>'
                : '<div class="alert alert-danger mb-0">Masih ada yang keliru/kurang lengkap. Periksa kembali.</div>';

            if (allCorrect) { localStorage.setItem('dragmini-apersepsi', 'benar'); safe('tandaiSelesai', 'B'); }
            else { localStorage.removeItem('dragmini-apersepsi'); }
        }

        function resetDragMini() {
            document.querySelectorAll('.drag-chip').forEach(chip => poolEl().appendChild(chip));
            drops().forEach(z => { z.classList.remove('correct', 'wrong', 'drag-over'); setEmptyState(z); });
            document.getElementById('dragFeedback').innerHTML = '';
            localStorage.removeItem('dragmini-apersepsi'); safe('hapusSelesai', 'B');
        }

        /* Refleksi */
        function simpanRefleksi() {
            const val = document.getElementById('refleksi').value.trim();
            const fb = document.getElementById('refleksiFeedback');
            if (!val) { fb.innerHTML = '<div class="alert alert-warning mb-0">Tulis jawaban dulu ya.</div>'; return; }
            localStorage.setItem('refleksi-apersepsi', val);
            fb.innerHTML = '<div class="alert alert-success mb-0">Tersimpan. üëå</div>';
            safe('tandaiSelesai', 'C');
        }
        function hapusRefleksi() {
            document.getElementById('refleksi').value = '';
            localStorage.removeItem('refleksi-apersepsi');
            document.getElementById('refleksiFeedback').innerHTML = '';
            safe('hapusSelesai', 'C');
        }

        /* Ringkasan */
        function simpanRingkasan() {
            const link = document.getElementById('tautan').value.trim();
            const txt = document.getElementById('ringkasan').value.trim();
            const fb = document.getElementById('ringkasanFeedback');
            if (!txt) { fb.innerHTML = '<div class="alert alert-warning mb-0">Tuliskan ringkasanmu terlebih dahulu.</div>'; return; }
            localStorage.setItem('ringkasan-apersepsi', JSON.stringify({ link, txt }));
            fb.innerHTML = '<div class="alert alert-success mb-0">Ringkasan tersimpan. üéâ</div>';
            safe('tandaiSelesai', 'D');
        }
        function hapusRingkasan() {
            document.getElementById('tautan').value = '';
            document.getElementById('ringkasan').value = '';
            localStorage.removeItem('ringkasan-apersepsi');
            document.getElementById('ringkasanFeedback').innerHTML = '';
            safe('hapusSelesai', 'D');
        }

        /* Init placeholder drop area saat load */
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.drop-col').forEach(setEmptyState);
        });
    </script>
</body>

</html>